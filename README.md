# 刷新马 + 景阳岗脚本

本仓库收录了一个用于「刷新马」与「景阳岗」模块化操作的 Tampermonkey 用户脚本。脚本提供了刷新马模块、景阳岗模块以及限速检测看门狗，帮助自动化常见的页面操作。自带的控制面板提供标签式界面，可根据当前启用的模块自动聚焦，并且在刷新后保留各类统计数据。

## 目录结构

```
src/
  userscripts/
    control-panel/
      index.user.js
```

- `src/userscripts/control-panel/index.user.js`：Tampermonkey 用户脚本源文件，后续模块将集中在该控制面板脚本中维护。

## 快速开始

1. 在浏览器中安装 [Tampermonkey](https://www.tampermonkey.net/)。
2. 打开 Tampermonkey 仪表盘，点击「创建新脚本」。
3. 将 `src/userscripts/control-panel/index.user.js` 中的全部内容复制粘贴到新脚本中并保存。
4. 访问 `http://81.68.161.24/`，在页面右下角可以看到脚本面板。根据需要开启或关闭「刷新马」与「景阳岗」模块。

## 功能概览

- **刷新马模块**：定时刷新页面，当侦测到「汗血宝马」达到阈值时自动尝试牵走并记录统计数据。
- **景阳岗模块**：定时扫描链接，优先寻找与攻击相关的入口，辅助进行快速操作。
- **限速看门狗**：检测「您的点击频度过快」提示，自动暂停后尝试点击「继续」恢复操作。

## 控制面板特性

- **标签式布局**：刷新马与景阳岗模块采用紧凑的标签页展示方式，界面会根据正在运行的模块自动切换标签，并在刷新后记住上次的选择。
- **数据持久化**：模块统计（例如刷新次数、掉落物明细）会在本地持久化存储，刷新页面后仍然保留，可在面板中一键清空。
- **自动构建产物**：仓库提供 `npm run build:control-panel` 命令，可将源码编译为 Tampermonkey 可直接安装的分发脚本。

## 模块扩展建议

- 每个新增模块建议以独立的 IIFE 或函数对象维护，并在控制面板中挂载启停逻辑。
- 若模块较多，可在 `control-panel` 目录内再创建子目录（例如 `modules/`）来拆分与组织代码，然后通过构建工具合并到 `index.user.js`。

## 授权许可

脚本仅用于学习与个人研究，请在遵守目标网站使用条款的前提下使用。

## 更新日志

项目更新记录请查看 [CHANGELOG.md](./CHANGELOG.md)。
